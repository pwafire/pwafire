<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PWAFire CDN Test</title>
  </head>
  <body>
    <h1>PWAFire CDN Test</h1>
    <button id="share">Test Web Share</button>
    <button id="visibility">Test Visibility</button>

    <script type="module">
      import { pwa, check } from "https://unpkg.com/pwafire/esm/index.js";

      // Test webShare
      document.getElementById("share").addEventListener("click", async () => {
        try {
          const supported = await check.webShare();
          if (supported) {
            await pwa.webShare({
              title: "PWAFire Test",
              text: "Testing PWAFire CDN",
              url: window.location.href
            });
            console.log("Share successful");
          } else {
            console.log("Web Share not supported");
          }
        } catch (error) {
          console.error("Share error:", error);
        }
      });
      // Test visibility
      document
        .getElementById("visibility")
        .addEventListener("click", async () => {
          try {
            const result = await pwa.visibility();
            console.log("Visibility state:", result);
          } catch (error) {
            console.error("Visibility error:", error);
          }
        });
    </script>
  </body>
</html>
